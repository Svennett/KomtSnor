
@{
    ViewBag.Title = "CountryRegister";
}

<h2>CountryRegister</h2>
@using (Html.BeginForm("CountryRegistration", "Registration", FormMethod.Post, new {enctype = "multipart/form-data", id="countryRegistrationForm" }))
{
    <div class="form-group formPosition">
        <label for="countryName" class="col-md-2 control-label">Country name: </label>
        <div class="col-md-10">
            <input name="countryName" id="countryName" type="text" class="form-control"/>
        </div>
    </div>

    <div class="form-group formPosition">
        <label for="countryCode" class="col-md-2 control-label">Country code: </label>
        <div class="col-md-10">
            <input name="countryCode" id="countryCode" type="text" class="form-control"/>
        </div>
    </div>

    <div class="form-group formPosition">
        <label class="col-md-2 control-label">Country flag: </label>
        <div class="col-lg-10">
            <div class="imageFrame">
                <img type="image" id="flagImg" src="#" alt="Flag image" class="imageItSelf"/>
            </div>
            <input id="imageInput" type="file" name="imageInput" accept="image/jpeg, image/gif, image/png">
        </div>
    </div>

    <div class="form-group">
        <button id="loginButton" class="btn btn-default" style="margin-left: 15px;">HIERRR komen met dat land</button>
        <input id="cancleButton" class="btn btn-default" style="margin-left: 15px;" type="button" value="daag, ben Rusland niet"/>
    </div>
}


<script>
    $(function() {
        $("#imageInput").change(function() {
            readImage(this);
        });
        $("#loginButton").click(function () {
            if ($("#countryRegistrationForm").valid()) {
                $("#countryRegistrationForm").submit();
            }
        });
        $("#cancleButton").click(function () {
            window.location.replace("/Home/index");
        });

    });

    function readImage(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                $("#flagImg").attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }


    $("#countryRegistrationForm").validate({
        rules: {
            countryName: "required",
            countryCode: {
                number: true,
                max: 1999,
                required: true
            },
            imageInput: {
                accept: "image/jpeg, image/gif, image/png"
            }
        },
        messages: {
            countryName: "welk land?",
            countryCode: {
                number: "code moet een nummer zijn",
                max: "Code must be lower that 2000",
                required: "ieder land heeft een code"
            },
            imageInput: {
                accept: "sorry only .jpeg .jpg .png .gif"
            }
        }
    });



</script>
<style>
    .imageFrame {
        max-width: 200px;
        max-height: 100px;
        display: table-cell;
        text-align: center;
        vertical-align: middle;
        width: 200px;
        height: 100px;
        background-color: #f5f5f5;
        border: 1px solid #cccccc;
    }
    .formPosition {
        width: 100%;
        margin-bottom: 10px;
        float: left;
    }
    .imageFrame * {
      vertical-align: middle;
    }
    img.imageItSelf {
        max-width: 198px;
        max-height: 98px;
    }

</style>